define(["jquery","common","util/validate","datepicker","datepickerCn","accountsPublic","page"],function(t,e,a,i,n){var s,o,l,d="t1",r=new Date,c=function(){d=null;var a=t(this).attr("id");t(this).siblings("a").removeClass("active");t(".zzu-invest-list > .zzu-invest-status").find("a.active").attr("data");"zzu_begin_time"==a&&(o=t(this).val(),l=t("#zzu_end_time").val()),"zzu_end_time"==a&&(o=t("#zzu_begin_time").val(),l=t(this).val());var i=e.datePoor(o,l);return 0>i?void e.showMessage("结束日期不能小于开始日期"):i>11?void e.showMessage("只能查询12个月内的数据"):void v(1,5)};try{t(".zzu-date-control").datepicker({format:"yyyy-mm",autoclose:!0,weekStart:1,startView:1,minView:1,maxView:1,minViewMode:1,forceParse:!1,language:"zh-CN",initialDate:r,endDate:r}).val(r.getFullYear()+"-"+(r.getMonth()+1)).on("change",c)}catch(m){console.log(m)}t("#deadLine").html(r.getFullYear()+"-"+(r.getMonth()+1)+"-"+(r.getDate()-1)+" 23:59:59"),t(".zzu-querylist").find("a").on("click",function(){var e=t(this).attr("data");a.isNotNull(e)&&(t(this).addClass("active").siblings().removeClass("active"),0==e.indexOf("d")&&(d=t(".zzu-invest-time").find("a.active").attr("data"),s=e,a.isNotNull(d)||(o=t("#zzu_begin_time").val(),l=t("#zzu_end_time").val()),v(1,5)),0==e.indexOf("t")&&(s=t(".zzu-invest-status").find("a.active").attr("data"),d=e,v(1,5)))});var v=function(i,n){e.loading();var r={},c=i||1,m=n||5,u=(c-1)*m,g=m,w={start:u,length:g,columns:[{data:"ID",name:"ID"},{data:"transType",name:"transType"},{data:"CREATE_TIME",name:"CREATE_TIME",orderable:!0},{data:"AMOUNT",name:"AMOUNT"},{data:"otherUser",name:"otherUser"}],order:[{column:"2",dir:"desc"}]};r.pageData=JSON.stringify(w),a.isNotNull(d)&&(r.lastestDate=d.substr(1)),a.isNotNull(s)&&"d0"!=s&&(r.type=s.substr(1)),a.isNotNull(o)&&(r.beginDate=o),a.isNotNull(l)&&(r.endDate=l),e.ajaxUtil("trans/recordlist.json",r,"POST",function(a){e.putTemplete("zzu_money_overview_tem",a.data,"zzu_money_overview"),t.zzuPage({pageId:"pageContainer",pageNo:c,pageSize:m,totalCount:a.recordsFiltered,load:v}),t(".loading-animation").modal("hide")},function(){t(".loading-animation").modal("hide")})};v(1,5)});